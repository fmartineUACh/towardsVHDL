<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0047)http://det.bp.ehu.es/vhdl/pagina/express/04.htm -->
<HTML><HEAD><TITLE>Práctica 4: Decodificador</TITLE>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<META content="Daniel Jiménez Iglesias          danieljimenez@mailcity.com" 
name=Author>
<META content="Daniel Jiménez Iglesias y Juan Carlos Cárdenas Bonelli" 
name=Author>
<META content="Juan Carlos Cárdenas Bonelli     juanky.cardenas@mailcity.com" 
name=Author>
<META content="MSHTML 5.50.4134.100" name=GENERATOR></HEAD>
<BODY bgProperties=fixed background=04_archivos/fondo00.jpg>
<SCRIPT language=JavaScript><!--
MSFPhover = 
  (((navigator.appName == "Netscape") && 
  (parseInt(navigator.appVersion) >= 3 )) || 
  ((navigator.appName == "Microsoft Internet Explorer") && 
  (parseInt(navigator.appVersion) >= 4 ))); 
function MSFPpreload(img) 
{
  var a=new Image(); a.src=img; return a; 
}
// -->

</SCRIPT>

<SCRIPT language=JavaScript><!--
if(MSFPhover) { MSFPnav1n=MSFPpreload('boto10.jpg'); 
MSFPnav1h=MSFPpreload('boto11.jpg'); }
// --></SCRIPT>

<SCRIPT language=JavaScript><!--
if(MSFPhover) { MSFPnav2n=MSFPpreload('boto20.jpg'); 
MSFPnav2h=MSFPpreload('boto21.jpg'); }
// --></SCRIPT>

<SCRIPT language=JavaScript><!--
if(MSFPhover) { MSFPnav3n=MSFPpreload('boto30.jpg'); 
MSFPnav3h=MSFPpreload('boto31.jpg'); }
// --></SCRIPT>

<SCRIPT language=JavaScript><!--
if(MSFPhover) { MSFPnav4n=MSFPpreload('boto40.jpg'); 
MSFPnav4h=MSFPpreload('boto41.jpg'); }
// --></SCRIPT>

<TABLE height=580 cellSpacing=5 cellPadding=2 width="88%" border=0>
  <TBODY>
  <TR>
    <TD vAlign=center align=middle width="100%" height=81><A 
      href="http://det.bp.ehu.es/vhdl/pagina/express/03.htm"><IMG height=51 
      alt=Codificador src="04_archivos/image07.jpg" width=72 border=0></A><A 
      name=top></A><SMALL><IMG height=51 alt="Práctica 5: Decodificador" 
      src="04_archivos/ex04-00.jpg" width=429 
      lowsrc=images/ex04-00.gif></SMALL><A 
      href="http://det.bp.ehu.es/vhdl/pagina/express/05.htm"><IMG height=53 
      alt=Comparador src="04_archivos/image08.jpg" width=75 
      border=0></A><BR>&nbsp; </TD></TR>
  <TR>
    <TD vAlign=center align=left width="100%" height=66><FONT face=Verdana 
      size=2>Un decodificador es un circuito combinacional cuya característica 
      fundamental es que, para cada combinación de las entradas, sólo una de las 
      salidas tiene un nivel lógico diferente a las demás. Este circuito realiza 
      la operación inversa a la de un codificador de datos y es análoga a la de 
      un demultiplexor, pero sin entrada de información.</FONT></TD></TR>
  <TR>
    <TD vAlign=center align=middle width="100%" height=66><SMALL><FONT 
      face=Verdana>
      <P align=left>Los decodificadores expuestos será una muestra práctica de 
      la versatilidad de VHDL para la implementación de este tipo de circuitos 
      lógicos.</FONT></SMALL></P>
      <P align=left><SMALL><FONT face=Verdana>Elige en la lista una práctica 
      para empezar, sin más que pinchar en el botón adecuado. Para volver pulsa 
      el botón que está al lado del título</FONT></SMALL></P></TD></TR>
  <TR>
    <TD align=middle width="100%" height=245>
      <TABLE height=234 width="88%" border=0>
        <TBODY>
        <TR>
          <TD vAlign=center width="28%" height=39>
            <P><A href="http://det.bp.ehu.es/vhdl/pagina/express/04.htm#1"><IMG 
            height=29 alt="Entidad 1" src="04_archivos/enti1.jpg" width=200 
            border=0></A></P></TD>
          <TD vAlign=center width="72%" height=39><FONT face=Arial 
            size=3><STRONG>Decodificador 3 a 8</STRONG></FONT></TD></TR>
        <TR>
          <TD vAlign=center width="28%" height=39>
            <P><A href="http://det.bp.ehu.es/vhdl/pagina/express/04.htm#2"><IMG 
            height=29 alt="Arquitectura 1" src="04_archivos/arqui1.jpg" 
            width=200 border=0></A></P></TD>
          <TD vAlign=center width="72%" height=39><FONT face=Arial 
            size=3><STRONG>Decodificador 3 a 8</STRONG></FONT></TD></TR>
        <TR>
          <TD vAlign=center width="28%" height=39>
            <P><A href="http://det.bp.ehu.es/vhdl/pagina/express/04.htm#5"><IMG 
            height=29 alt="Entidad 3" src="04_archivos/enti3.jpg" width=200 
            border=0></A></P></TD>
          <TD vAlign=center width="72%" height=39><FONT face=Arial 
            size=3><STRONG>Decodificador de BCD a 7 
        segmentos</STRONG></FONT></TD></TR>
        <TR>
          <TD vAlign=center width="28%" height=39>
            <P><A href="http://det.bp.ehu.es/vhdl/pagina/express/04.htm#6"><IMG 
            height=29 alt="Arquitectura 3" src="04_archivos/arqui3.jpg" 
            width=200 border=0></A></P></TD>
          <TD vAlign=center width="72%" height=39><FONT face=Arial 
            size=3><STRONG>Decodificador de BCD a 7 
        segmentos</STRONG></FONT></TD></TR></TBODY></TABLE></TD></TR>
  <TR>
    <TD align=middle width="100%" height=50><A 
      href="http://det.bp.ehu.es/vhdl/pagina/express/simula.htm#04"><IMG 
      height=23 alt="Pulsa aquí para simular los ejemplos construidos." 
      src="04_archivos/image03.jpg" width=592 lowsrc=image03.gif 
  border=0></A></TD></TR></TBODY></TABLE>
<P align=center>&nbsp;</P>
<P align=center>&nbsp;</P>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="85%"><FONT face=Impact><FONT color=#000000><BIG><BIG><A 
      name=1></A>Entidad 1:</BIG></BIG></FONT><FONT size=5> Decodificador de 3 a 
      8</FONT></FONT></TD>
    <TD width="7%"><A 
      href="http://det.bp.ehu.es/vhdl/pagina/express/04.htm#top"><IMG height=42 
      alt="Ir al principio de esta página" src="04_archivos/image01.gif" 
      width=59 align=right border=0></A></TD></TR></TBODY></TABLE>
<P align=left><FONT face="MS Sans Serif">Para el diseño de la entidad 
necesitamos tener una entrada de tres bits, dos entradas de control, y una 
salida de ocho bits que en este caso serán activas por nivel bajo. El código no 
requiere mayor explicación, ya que la entidad es muy sencilla:</FONT></P>
<TABLE cellSpacing=0 width="100%" bgColor=#ffffff border=0>
  <TBODY>
  <TR>
    <TD width="64%"><FONT face="OCR A Extended"><STRONG>library</STRONG> 
      <STRONG>ieee</STRONG>;<BR><STRONG>use</STRONG> 
      <STRONG>ieee</STRONG>.std_logic_1164.<STRONG>all</STRONG>;<BR><STRONG>entity</STRONG> 
      decoder 
      <STRONG>is</STRONG><BR><STRONG>port</STRONG>(<BR><STRONG>entrada</STRONG>: 
      <STRONG>in</STRONG>&nbsp; <STRONG>std_logic_vector</STRONG>(2 
      <STRONG>downto</STRONG> 0);<BR><STRONG>g1, g2</STRONG>: 
      <STRONG>in</STRONG>&nbsp; 
      <STRONG>std_logic</STRONG>;<BR><STRONG>salida</STRONG>: 
      <STRONG>out</STRONG> <STRONG>std_logic_vector</STRONG>(7 
      <STRONG>downto</STRONG> 0)<BR><STRONG>)</STRONG>;<BR><STRONG>end</STRONG> 
      decoder;</FONT></TD>
    <TD width="36%"><FONT face="MS Sans Serif">La entrada de información es 
      <STRONG>entrada</STRONG>, las de control son <STRONG>g1</STRONG> y 
      <STRONG>g2</STRONG> y la salida es 
  <STRONG>salida.</STRONG></FONT></TD></TR></TBODY></TABLE>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="85%"><FONT face=Impact><FONT color=#000000><BIG><BIG><A 
      name=2></A>Arquitectura 1:</BIG></BIG></FONT><FONT size=5>&nbsp; 
      Decodficador de 3 a 8</FONT></FONT></TD>
    <TD width="7%"><A 
      href="http://det.bp.ehu.es/vhdl/pagina/express/04.htm#top"><IMG height=42 
      alt="Ir al principio de esta página" src="04_archivos/image01.gif" 
      width=59 align=right border=0></A></TD></TR></TBODY></TABLE>
<P align=left><FONT face="MS Sans Serif">Para crear la arquitectura de este 
decodificador deberemos saber que operatividad exacta le vamos a proporcionar. 
En este caso usaremos como modelo del circuito MSI 74138 y traducirla al 
lenguaje VHDL. </FONT></P>
<DIV align=center>
<CENTER>
<TABLE width="46%" border=1>
  <TBODY>
  <TR>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended"><STRONG>g1</STRONG></FONT></TD>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended"><STRONG>g2</STRONG></FONT></TD>
    <TD vAlign=center align=middle width="26%"><FONT 
      face="OCR A Extended"><STRONG>Entrada<BR>(2 a 0)</STRONG></FONT></TD>
    <TD vAlign=center align=middle width="45%"><FONT 
      face="OCR A Extended"><STRONG>Salida<BR>(7 a 0)</STRONG></FONT></TD></TR>
  <TR>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">X</FONT></TD>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">H</FONT></TD>
    <TD vAlign=center align=middle width="26%"><FONT 
      face="OCR A Extended">XXX</FONT></TD>
    <TD vAlign=center align=middle width="45%"><FONT 
      face="OCR A Extended">HHHHHHHH</FONT></TD></TR>
  <TR>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">L</FONT></TD>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">L</FONT></TD>
    <TD vAlign=center align=middle width="26%"><FONT 
      face="OCR A Extended">XXX</FONT></TD>
    <TD vAlign=center align=middle width="45%"><FONT 
      face="OCR A Extended">HHHHHHHH</FONT></TD></TR>
  <TR>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">H</FONT></TD>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">L</FONT></TD>
    <TD vAlign=center align=middle width="26%"><FONT 
      face="OCR A Extended">LLL</FONT></TD>
    <TD vAlign=center align=middle width="45%"><FONT 
      face="OCR A Extended">LHHHHHHH</FONT></TD></TR>
  <TR>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">H</FONT></TD>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">L</FONT></TD>
    <TD vAlign=center align=middle width="26%"><FONT 
      face="OCR A Extended">LLH</FONT></TD>
    <TD vAlign=center align=middle width="45%"><FONT 
      face="OCR A Extended">HLHHHHHH</FONT></TD></TR>
  <TR>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">H</FONT></TD>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">L</FONT></TD>
    <TD vAlign=center align=middle width="26%"><FONT 
      face="OCR A Extended">LHL</FONT></TD>
    <TD vAlign=center align=middle width="45%"><FONT 
      face="OCR A Extended">HHLHHHHH</FONT></TD></TR>
  <TR>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">H</FONT></TD>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">L</FONT></TD>
    <TD vAlign=center align=middle width="26%"><FONT 
      face="OCR A Extended">LHH</FONT></TD>
    <TD vAlign=center align=middle width="45%"><FONT 
      face="OCR A Extended">HHHLHHHH</FONT></TD></TR>
  <TR>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">H</FONT></TD>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">L</FONT></TD>
    <TD vAlign=center align=middle width="26%"><FONT 
      face="OCR A Extended">HLL</FONT></TD>
    <TD vAlign=center align=middle width="45%"><FONT 
      face="OCR A Extended">HHHHLHHH</FONT></TD></TR>
  <TR>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">H</FONT></TD>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">L</FONT></TD>
    <TD vAlign=center align=middle width="26%"><FONT 
      face="OCR A Extended">HLH</FONT></TD>
    <TD vAlign=center align=middle width="45%"><FONT 
      face="OCR A Extended">HHHHHLHH</FONT></TD></TR>
  <TR>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">H</FONT></TD>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">L</FONT></TD>
    <TD vAlign=center align=middle width="26%"><FONT 
      face="OCR A Extended">HHL</FONT></TD>
    <TD vAlign=center align=middle width="45%"><FONT 
      face="OCR A Extended">HHHHHHLH</FONT></TD></TR>
  <TR>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">H</FONT></TD>
    <TD vAlign=center align=middle width="14%"><FONT 
      face="OCR A Extended">L</FONT></TD>
    <TD vAlign=center align=middle width="26%"><FONT 
      face="OCR A Extended">HHH</FONT></TD>
    <TD vAlign=center align=middle width="45%"><FONT 
      face="OCR A Extended">HHHHHHHL</FONT></TD></TR></TBODY></TABLE></CENTER></DIV>
<P>&nbsp;</P>
<TABLE cellSpacing=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD vAlign=top width=54 bgColor=#ffffff><FONT face="OCR A Extended" 
      size=3><B>1</B><BR><B>2</B><BR><B>3</B><BR><B>4</B><BR><B>5</B><BR><B>6</B><BR><B>7</B><BR><B>8</B> 
      <IMG height=11 alt="La salida vale '01111111' si la entrada es '000'" 
      src="04_archivos/image02.gif" 
      width=25><BR><B>9</B><BR><B>10</B><BR><B>11</B><BR><B>12</B><BR><B>13<BR>14<BR>15<BR>16</B><IMG 
      height=11 
      alt="La salida vale '11111111' si la entrada tiene un valor no especificado en las sentencias anteriores" 
      src="04_archivos/image02.gif" width=25><B><BR>17<BR>18</B></FONT></TD>
    <TD vAlign=top width=702 bgColor=#ffffff><FONT 
      face="OCR A Extended"><STRONG>architecture</STRONG> archidecoder 
      <STRONG>of</STRONG> decoder 
      <STRONG>is</STRONG><BR><STRONG>begin</STRONG><BR>decoder: 
      <STRONG>process</STRONG> (entrada,g1,g2)<BR><STRONG>begin</STRONG><BR>if 
      g2='1' then salida&lt;=(others=&gt;'1');<BR>&nbsp; elsif g2='0' and g1='0' 
      then salida&lt;=(others=&gt;'1');<BR>&nbsp;&nbsp; elsif g2='0' and g1='1' 
      then<BR><BR>&nbsp;&nbsp;&nbsp; salida &lt;= "01111111" 
      <STRONG>when</STRONG> entrada="000" 
      <STRONG>else</STRONG><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      "10111111" <STRONG>when</STRONG> entrada="001" 
      <STRONG>else</STRONG><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      "11011111" <STRONG>when</STRONG> entrada="010" 
      <STRONG>else</STRONG><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      "11101111" <STRONG>when</STRONG> entrada="011" 
      <STRONG>else</STRONG><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      "11110111" <STRONG>when</STRONG> entrada="100" 
      <STRONG>else</STRONG><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      "11111011" <STRONG>when</STRONG> entrada="101" 
      <STRONG>else</STRONG><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      "11111101" <STRONG>when</STRONG> entrada="110" 
      <STRONG>else</STRONG><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      "11111110" <STRONG>when</STRONG> entrada="111" 
      <STRONG>else</STRONG><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
      "11111111";<BR><STRONG>end</STRONG> 
archidecoder;</FONT></TD></TR></TBODY></TABLE>
<P align=left><FONT face="MS Sans Serif">En este ejemplo introducimos una nueva 
sentencia, la sentencia <A 
href="http://det.bp.ehu.es/vhdl/pagina/completo/05.htm#4"><STRONG>when-else</STRONG></A> 
que viene a ser como una scesión de sentencias <A 
href="http://det.bp.ehu.es/vhdl/pagina/completo/04.htm#4"><STRONG>if</STRONG></A> 
anidadas. No debemos olvidar al final la sentencia <A 
href="http://det.bp.ehu.es/vhdl/pagina/completo/04.htm#others"><STRONG>others</STRONG></A> 
en la que se contemplan todos los demás posibles valores qu puede tomar la 
entrada, ya que aunque en un principio parecen estar contempladas, no debemos 
olvidar queel tipo <STRONG>std_logic</STRONG> puede tener más valores aparte del 
nivel alto y el nivel bajo, como el de alta impedancia o el don't care (poco 
importa).</FONT></P>
<P align=left>&nbsp;</P>
<TABLE width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="25%"></TD>
    <TD width="25%"><A 
      href="http://det.bp.ehu.es/vhdl/pagina/express/simula.htm"><IMG height=28 
      alt="Qué debes saber antes de simular" src="04_archivos/image09.jpg" 
      width=211 lowsrc=image09.gif border=0></A></TD>
    <TD width="25%"><A 
      href="http://det.bp.ehu.es/vhdl/pagina/express/practica/decode01.vhd"><IMG 
      height=28 alt="Pulsa aquí para ver el código fuente" 
      src="04_archivos/image10.jpg" width=211 lowsrc=image10.gif 
border=0></A></TD>
    <TD width="25%"></TD></TR></TBODY></TABLE>
<P align=left>&nbsp;</P>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="85%"><FONT face=Impact><FONT color=#000000><BIG><BIG><A 
      name=5></A>Entidad 2:</BIG></BIG></FONT><FONT size=5><STRONG> 
      Decodificador de BCD a 7 segmentos</STRONG></FONT></FONT></TD>
    <TD width="7%"><A 
      href="http://det.bp.ehu.es/vhdl/pagina/express/04.htm#top"><IMG height=42 
      alt="Ir al principio de esta página" src="04_archivos/image01.gif" 
      width=59 align=right border=0></A></TD></TR></TBODY></TABLE>
<P align=left><FONT face="MS Sans Serif">Éste es un ejemplo muy típico de 
decodificador, en el cual tenemos 4 bits de entrada por los cuales nos llega un 
número en BCD natural y a la salida tenemos 7 bits de salida los cuales 
contienen decodificado el número de la entrada para que sea entendido por un 
display de 7 segmentos. La entidad correspondiente no tiene ningúna 
complicación, si exceptuamos que usamos el tipo <STRONG>std_logic</STRONG>, para 
lo cual hay que cargar un paquete de la librería 
<STRONG>ieee</STRONG>.</FONT></P>
<TABLE cellSpacing=0 width="100%" bgColor=#ffffff border=0>
  <TBODY>
  <TR>
    <TD width="56%"><FONT face="OCR A Extended"><STRONG>library</STRONG> 
      <STRONG>ieee</STRONG>;<BR><STRONG>use</STRONG> 
      <STRONG>ieee</STRONG>.std_logic_1164.<STRONG>all</STRONG>;<BR><STRONG>entity</STRONG> 
      convertidor 
      <STRONG>is</STRONG><BR><STRONG>port</STRONG>(<BR><STRONG>bcd</STRONG>: 
      <STRONG>in</STRONG>&nbsp; <STRONG>bit_vector</STRONG>(3 
      <STRONG>downto</STRONG> 0);<BR><STRONG>led</STRONG>: <STRONG>out</STRONG> 
      <STRONG>bit_vector</STRONG>(6 <STRONG>downto</STRONG> 
      0)<BR><STRONG>)</STRONG>;<BR><STRONG>end</STRONG> convertidor;</FONT></TD>
    <TD width="44%"><FONT face="MS Sans Serif">Al igual que antes, para usar 
      el tipo <STRONG>std_logic</STRONG> o alguno de sus derivados (como los 
      vectores), debemos cargar la librería <STRONG>ieee</STRONG>, y, de ésta, 
      el paquete <STRONG>std_logic_1164</STRONG>. La palabra 
      <STRONG>all</STRONG> indica que cargamos TODO el paquete, no una 
      parte.</FONT></TD></TR></TBODY></TABLE>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<P align=left>&nbsp;</P>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="85%"><FONT face=Impact><FONT color=#000000><BIG><BIG><A 
      name=6></A>Arquitectura 2:</BIG></BIG></FONT><FONT size=5> Decodificador 
      de BCD a 7 segmentos</FONT></FONT></TD>
    <TD width="7%"><A 
      href="http://det.bp.ehu.es/vhdl/pagina/express/04.htm#top"><IMG height=42 
      alt="Ir al principio de esta página" src="04_archivos/image01.gif" 
      width=59 align=right border=0></A></TD></TR></TBODY></TABLE>
<P align=left><FONT face="MS Sans Serif">Para crear la arquitectura de este 
decodificador deberemos conocer cual es la tabla de verdad del mismo (que se 
puede encontrar en cualquier data-book), y traducirla a lenguaje VHDL. Al ver la 
tabla y el código, comprobamos la similitud entre ambos. La tabla la 
siguiente:</FONT></P>
<DIV align=center>
<CENTER>
<TABLE width="32%" border=1>
  <TBODY>
  <TR>
    <TD align=middle width="33%"><FONT 
      face="OCR A Extended"><STRONG>Entrada<BR>(BCD)</STRONG></FONT></TD>
    <TD align=middle width="33%"><FONT 
      face="OCR A Extended"><STRONG>Salida<BR>(LED)</STRONG></FONT></TD></TR>
  <TR>
    <TD align=middle width="33%"><FONT face="OCR A Extended">LLLL</FONT></TD>
    <TD align=middle width="33%"><FONT 
  face="OCR A Extended">HHHHHHL</FONT></TD></TR>
  <TR>
    <TD align=middle width="33%"><FONT face="OCR A Extended">LLLH</FONT></TD>
    <TD align=middle width="33%"><FONT 
  face="OCR A Extended">HHLLLLL</FONT></TD></TR>
  <TR>
    <TD align=middle width="33%"><FONT face="OCR A Extended">LLHL</FONT></TD>
    <TD align=middle width="33%"><FONT 
  face="OCR A Extended">HLHHLHH</FONT></TD></TR>
  <TR>
    <TD align=middle width="33%"><FONT face="OCR A Extended">LLHH</FONT></TD>
    <TD align=middle width="33%"><FONT 
  face="OCR A Extended">HHHLLHH</FONT></TD></TR>
  <TR>
    <TD align=middle width="33%"><FONT face="OCR A Extended">LHLL</FONT></TD>
    <TD align=middle width="33%"><FONT 
  face="OCR A Extended">HHLLHLH</FONT></TD></TR>
  <TR>
    <TD align=middle width="33%"><FONT face="OCR A Extended">LHLH</FONT></TD>
    <TD align=middle width="33%"><FONT 
  face="OCR A Extended">LHHLHHH</FONT></TD></TR>
  <TR>
    <TD align=middle width="33%"><FONT face="OCR A Extended">LHHL</FONT></TD>
    <TD align=middle width="33%"><FONT 
  face="OCR A Extended">LHHHHHH</FONT></TD></TR>
  <TR>
    <TD align=middle width="33%"><FONT face="OCR A Extended">LHHH</FONT></TD>
    <TD align=middle width="33%"><FONT 
  face="OCR A Extended">HHLLLHL</FONT></TD></TR>
  <TR>
    <TD align=middle width="33%"><FONT face="OCR A Extended">HLLL</FONT></TD>
    <TD align=middle width="33%"><FONT 
  face="OCR A Extended">HHHHHHH</FONT></TD></TR>
  <TR>
    <TD align=middle width="33%"><FONT face="OCR A Extended">HLLH</FONT></TD>
    <TD align=middle width="33%"><FONT 
  face="OCR A Extended">HHHLHHH</FONT></TD></TR>
  <TR>
    <TD align=middle width="33%"><FONT face="OCR A Extended">LLLL</FONT></TD>
    <TD align=middle width="33%"><FONT 
  face="OCR A Extended">LLLLLLL</FONT></TD></TR></TBODY></TABLE></CENTER></DIV>
<P><A name=6con5></A></P>
<TABLE cellSpacing=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD vAlign=top width=54 bgColor=#ffffff><FONT face="OCR A Extended" 
      size=3><B>1</B><BR><B>2</B><BR><B>3</B><BR><B>4</B><BR><B>5</B> <IMG 
      height=11 
      alt='Según el valor de "bcd", asignamos a la salida "led" un valor u otro.' 
      src="04_archivos/image02.gif" 
      width=25><BR><B>6</B><BR><B>7</B><BR><B>8</B><BR><B>9</B><BR><B>10</B><BR><B>11</B><BR><B>12</B><BR><B>13<BR>14<BR>15<BR>16</B><IMG 
      height=11 
      alt="Si la entrada no está especificada en los casos anteriores, es decir, no es código BCD, la salida la ponemos a cero." 
      src="04_archivos/image02.gif" width=25><B><BR>17<BR>18<BR>19</B></FONT></TD>
    <TD vAlign=top width=702 bgColor=#ffffff><FONT 
      face="OCR A Extended"><STRONG>architecture</STRONG> archiconv 
      <STRONG>of</STRONG> convertidor 
      <STRONG>is</STRONG><BR><STRONG>begin</STRONG><BR>conv: 
      <STRONG>process</STRONG> 
      (bcd)<BR><STRONG>begin</STRONG><BR><STRONG>case</STRONG> bcd 
      <STRONG>is</STRONG><BR><STRONG>&nbsp; when</STRONG> "0000" =&gt; LED &lt;= 
      "1111110";<BR><STRONG>&nbsp; when</STRONG> "0001" =&gt; LED &lt;= 
      "1100000";<BR><STRONG>&nbsp; when</STRONG> "0010" =&gt; LED &lt;= 
      "1011011";<BR><STRONG>&nbsp; when</STRONG> "0011" =&gt; LED &lt;= 
      "1110011";<BR><STRONG>&nbsp; when</STRONG> "0100" =&gt; LED &lt;= 
      "1100101";<BR><STRONG>&nbsp; when</STRONG> "0101" =&gt; LED &lt;= 
      "0110111";<BR><STRONG>&nbsp; when</STRONG> "0110" =&gt; LED &lt;= 
      "0111111";<BR><STRONG>&nbsp; when</STRONG> "0111" =&gt; LED &lt;= 
      "1100010";<BR><STRONG>&nbsp; when</STRONG> "1000" =&gt; LED &lt;= 
      "1111111";<BR><STRONG>&nbsp; when</STRONG> "1001" =&gt; LED &lt;= 
      "1110111";<BR><STRONG>&nbsp; when</STRONG> others =&gt; LED &lt;= 
      "0000000";<BR><STRONG>end</STRONG> 
      <STRONG>case</STRONG>;<BR><STRONG>end</STRONG> <STRONG>process</STRONG> 
      conv;<BR><STRONG>end</STRONG> archiconv;</FONT></TD></TR></TBODY></TABLE>
<P align=left><FONT face="MS Sans Serif">Este ejemplo no tiene nada de extraño a 
estas alturas del tutorial, ya que la sentencia <A 
href="http://det.bp.ehu.es/vhdl/pagina/completo/04.htm#5"><STRONG>case</STRONG></A> 
ha aparecido en muchas ocasiones. Lo único es que hemos puesto un nombre al <A 
href="http://det.bp.ehu.es/vhdl/pagina/completo/05.htm#2">proceso</A> 
(<STRONG>conv</STRONG>). Esto es útil para cuando tenemos varios de ellos en el 
mismo programa y queremos estructurar la programación para hacerla más legible. 
Al cerrar un proceso con nombre, hay que especificarlo, como aparece en la línea 
18.</FONT></P>
<P align=left><FONT face="MS Sans Serif"></FONT>&nbsp;</P>
<TABLE width="100%" border=0>
  <TBODY>
  <TR>
    <TD width="25%"></TD>
    <TD width="25%"><A 
      href="http://det.bp.ehu.es/vhdl/pagina/express/simula.htm"><IMG height=28 
      alt="Qué debes saber antes de simular" src="04_archivos/image09.jpg" 
      width=211 lowsrc=image09.gif border=0></A></TD>
    <TD width="25%"><A 
      href="http://det.bp.ehu.es/vhdl/pagina/express/practica/decode03.vhd"><IMG 
      height=28 alt="Pulsa aquí para ver el código fuente" 
      src="04_archivos/image10.jpg" width=211 lowsrc=image10.gif 
border=0></A></TD>
    <TD width="25%"></TD></TR></TBODY></TABLE>
<P align=center>&nbsp;</P>
<P align=center><IMG height=10 alt="Separa01.gif (636 bytes)" 
src="04_archivos/separa01.gif" width=708></P>
<DL>
  <DD>
  <P align=center>&nbsp;</P></DD></DL></BODY></HTML>
